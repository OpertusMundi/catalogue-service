{"swagger": "2.0", "basePath": "/api", "paths": {"/draft/create": {"post": {"responses": {"400": {"description": "Error creating draft."}, "200": {"description": "Draft successfully created."}}, "summary": "Creates a new item (draft)", "operationId": "post_item_collection", "parameters": [{"name": "payload", "required": true, "in": "body", "schema": {"$ref": "#/definitions/the%20item%20in%20geojson%20format"}}], "tags": [""]}}, "/draft/create_from_harvest/{id}": {"parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}], "post": {"responses": {"200": {"description": "Draft successfully created."}, "404": {"description": "Published item not found."}}, "summary": "Creates a new draft from an existing harvest item", "operationId": "post_item_unit", "tags": [""]}}, "/draft/create_from_iso/": {"post": {"responses": {"400": {"description": "Error creating draft."}, "200": {"description": "Draft successfully created."}}, "summary": "Creates a new item (draft) from iso(xml)", "operationId": "post_item_collection", "parameters": [{"name": "xml", "in": "query", "type": "string", "required": true, "description": "Iso xml for conversion"}], "tags": [""]}}, "/draft/search": {"get": {"responses": {"200": {"description": "Drafts found", "schema": {"$ref": "#/definitions/a%20page%20of%20results"}}, "404": {"description": "No drafts found for this query"}}, "summary": "Searches and returns a list of drafts", "operationId": "get_draft_collection", "parameters": [{"name": "publisher_id", "in": "query", "type": "string", "description": "Publisher id", "default": ""}, {"name": "status", "in": "query", "type": "array", "description": "Item status", "default": "", "items": {"type": "string"}, "collectionFormat": "csv"}, {"name": "page", "in": "query", "type": "integer", "description": "Page number", "default": 1}, {"name": "per_page", "in": "query", "type": "integer", "description": "Results per page }", "default": 5}], "tags": [""]}}, "/draft/status": {"put": {"responses": {"200": {"description": "Status successfully updated."}}, "summary": "Updates a draft's status", "operationId": "put_status", "parameters": [{"name": "id", "in": "query", "type": "string", "required": true, "description": "Item/draft id", "default": ""}, {"name": "status", "in": "query", "type": "string", "required": true, "description": "Status to be updated (review - accepted - published)", "default": ""}], "tags": [""]}}, "/draft/{id}": {"parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}], "put": {"responses": {"200": {"description": "Draft successfully updated."}, "404": {"description": "Error updating draft."}}, "summary": "Updates a draft", "description": "Use this method to change a property of a draft.\n* Send a geojson object with the new values in the request body.\n```\n{\n \"properties\": {\n    \"title\": \"New item title\"\n  }\n}\n```\n* Specify the ID of the item to modify in the request URL path.", "operationId": "put_item_unit", "parameters": [{"name": "payload", "required": true, "in": "body", "schema": {"$ref": "#/definitions/the%20item%20in%20geojson%20format"}}], "tags": [""]}, "delete": {"responses": {"200": {"description": "Draft successfully deleted."}, "404": {"description": "Draft not found."}}, "summary": "Deletes a draft", "operationId": "delete_item_unit", "tags": [""]}, "get": {"responses": {"200": {"description": "Draft found.", "schema": {"$ref": "#/definitions/the%20item%20in%20geojson%20format"}}, "404": {"description": "Draft not found."}}, "summary": "Returns a draft", "operationId": "get_item_unit", "tags": [""]}, "post": {"responses": {"200": {"description": "Draft successfully created."}, "404": {"description": "Published item not found."}}, "summary": "Creates a new draft from an existing published item", "operationId": "post_item_unit", "tags": [""]}}, "/harvest": {"post": {"responses": {"200": {"description": "Harvested successfuly from remote catalogue."}, "400": {"description": "Error harvesting"}}, "summary": "Harvests records from a remote catalogue", "operationId": "post_harvest_collection", "parameters": [{"name": "url", "in": "query", "type": "string", "format": "url", "required": true, "description": "Harvest url"}, {"name": "harvester", "in": "query", "type": "string", "required": true, "description": "Target catalogue type (opertusmundi/ckan/csw)", "default": "opertusmundi"}], "tags": [""]}}, "/harvest/search": {"get": {"responses": {"200": {"description": "Items found", "schema": {"$ref": "#/definitions/a%20page%20of%20results"}}, "404": {"description": "No items found from this url"}}, "summary": "Searches and returns a list of harvests", "operationId": "get_harvest_collection", "parameters": [{"name": "harvest_url", "in": "query", "type": "string", "required": true, "description": "Harvest url", "default": ""}, {"name": "page", "in": "query", "type": "integer", "description": "Page number", "default": 1}, {"name": "per_page", "in": "query", "type": "integer", "description": "Results per page }", "default": 5}], "tags": [""]}}, "/history/get": {"get": {"responses": {"200": {"description": "Version was found.", "schema": {"$ref": "#/definitions/the%20item%20in%20geojson%20format"}}, "404": {"description": "Version was not found."}}, "summary": "Returns a specific version of an item", "operationId": "get_item_unit", "parameters": [{"name": "id", "in": "query", "type": "string", "required": true, "description": "Item id", "default": ""}, {"name": "version", "in": "query", "type": "string", "required": true, "description": "Item version", "default": ""}], "tags": [""]}}, "/history/search": {"get": {"responses": {"200": {"description": "Items found", "schema": {"$ref": "#/definitions/a%20page%20of%20results"}}, "404": {"description": "No items found for this query"}}, "summary": "Searches and returns a list of drafts", "operationId": "get_draft_collection", "parameters": [{"name": "item_id", "in": "query", "type": "string", "description": "Item id", "default": ""}, {"name": "publisher_id", "in": "query", "type": "string", "description": "Publisher id", "default": ""}, {"name": "deleted", "in": "query", "type": "boolean", "description": "Deleted status", "default": false}, {"name": "page", "in": "query", "type": "integer", "description": "Page number", "default": 1}, {"name": "per_page", "in": "query", "type": "integer", "description": "Results per page }", "default": 5}], "tags": [""]}}, "/published/get": {"get": {"responses": {"200": {"description": "Items found"}, "404": {"description": "No items found with those ids"}}, "summary": "Returns a list of items by ids", "operationId": "get_item_collection", "parameters": [{"name": "id", "in": "query", "type": "array", "required": true, "description": "Ids of the items", "items": {"type": "string"}, "collectionFormat": "csv"}], "tags": [""]}}, "/published/search": {"get": {"responses": {"200": {"description": "Items found", "schema": {"$ref": "#/definitions/a%20page%20of%20results"}}, "404": {"description": "No items found for this query"}}, "summary": "Searches and returns a list of items", "operationId": "get_item_collection", "parameters": [{"name": "publisher_id", "in": "query", "type": "string", "description": "Publisher id", "default": ""}, {"name": "q", "in": "query", "type": "string", "description": "Search query", "default": ""}, {"name": "bbox", "in": "query", "type": "string", "description": "Bounding box", "default": ""}, {"name": "time", "in": "query", "type": "string", "description": "Time extent", "default": ""}, {"name": "page", "in": "query", "type": "integer", "description": "Page number", "default": 1}, {"name": "per_page", "in": "query", "type": "integer", "description": "Results per page }", "default": 5}], "tags": [""]}}, "/published/{id}": {"parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}], "put": {"responses": {"404": {"description": "Item not found."}, "200": {"description": "Item successfully updated."}}, "summary": "Updates a item", "description": "Use this method to change a property of an item.\n* Send a geojson object with the new values in the request body.\n```\n{\n \"properties\": {\n    \"title\": \"New item title\"\n  }\n}\n```\n* Specify the ID of the item to modify in the request URL path.", "operationId": "put_item_unit", "parameters": [{"name": "payload", "required": true, "in": "body", "schema": {"$ref": "#/definitions/the%20item%20in%20geojson%20format"}}], "tags": [""]}, "delete": {"responses": {"404": {"description": "Item not found."}, "200": {"description": "Item successfully deleted."}}, "summary": "Deletes a item", "operationId": "delete_item_unit", "tags": [""]}, "get": {"responses": {"404": {"description": "Item not found."}, "200": {"description": "Item found.", "schema": {"$ref": "#/definitions/the%20item%20in%20geojson%20format"}}}, "summary": "Returns a published item (including a list of all versions)", "operationId": "get_item_unit", "tags": [""]}}, "/validate_schema": {"post": {"responses": {"200": {"description": "Schema passed validation."}, "400": {"description": "Invalid schema"}}, "summary": "Validates a json", "operationId": "post_validate", "parameters": [{"name": "payload", "required": true, "in": "body", "schema": {"$ref": "#/definitions/the%20item%20in%20geojson%20format"}}], "tags": [""]}}}, "info": {"title": "Catalogue service", "version": "1.0", "description": "A catalogue service implemented with a Flask RESTX powered API"}, "produces": ["application/json"], "consumes": ["application/json"], "tags": [{"name": "", "description": "Operations related to items"}], "definitions": {"the item in geojson format": {"required": ["properties"], "properties": {"id": {"type": "string", "description": "An unambiguous reference to the resource within a given context"}, "type": {"type": "string", "description": "The type of the geojson", "default": "Feature"}, "geometry": {"description": "The spatial extent of the resource, the spatial                     applicability of the resource, or the jurisdiction under which the resource is relevant.", "allOf": [{"$ref": "#/definitions/polygon geometry"}]}, "properties": {"description": "The properties of the geojson.", "allOf": [{"$ref": "#/definitions/properties of an item"}]}}, "type": "object"}, "polygon geometry": {"properties": {"type": {"type": "string", "description": "Type of geometry", "default": "Polygon"}, "coordinates": {"type": "array", "items": {"type": "array", "default": [[13.4197998046875, 52.52624809700062], [13.387527465820312, 52.53084314728766], [13.366928100585938, 52.50535544522142], [13.419113159179688, 52.501175722709434], [13.4197998046875, 52.52624809700062]], "items": {"type": "array", "items": {"type": "number"}}}}}, "type": "object"}, "properties of an item": {"required": ["title"], "properties": {"title": {"type": "string", "description": "A name given to the resource"}, "abstract": {"type": "string", "description": "An abstract of the resource"}, "type": {"type": "string", "description": "The nature or genre of the resource", "example": "raster", "enum": ["raster", "vector", "service"]}, "spatial_data_service_type": {"type": "string", "description": "The nature or genre of the service", "example": "TMS", "enum": ["TMS", "WMS", "WFS", "WCS", "CSW", "Data API", "OGC API"]}, "format": {"type": "string", "description": "The file format, physical medium, or dimensions of the resource"}, "keywords": {"type": "array", "items": {"description": "The topic of the resource", "allOf": [{"$ref": "#/definitions/keyword"}]}}, "publisher_name": {"type": "string", "description": "Name of an entity responsible for making the resource available"}, "publisher_email": {"type": "string", "description": "Email of an entity responsible for making the resource available"}, "publisher_id": {"type": "string", "description": "Id of an entity responsible for making the resource available"}, "language": {"type": "string", "description": "A language of the resource"}, "status": {"type": "string", "description": "The status of the item", "readOnly": true}, "date_start": {"type": "string", "format": "date", "description": "The temporal extent of the resource (start date)"}, "date_end": {"type": "string", "format": "date", "description": "The temporal extent of the resource (end date))"}, "creation_date": {"type": "string", "format": "date", "description": "A point or period of time associated with the creation event                     in the lifecycle of the resource"}, "publication_date": {"type": "string", "format": "date", "description": "A point or period of time associated with the publication event                     in the lifecycle of the resource"}, "revision_date": {"type": "string", "format": "date", "description": "A point or period of time associated with the revision event                      in the lifecycle of the resource "}, "resource_locator": {"type": "string", "description": "The \u2018navigation section\u2019 of a metadata record which point users to the location (URL)                     where the data can be downloaded, or to where additional information about the resource may be provided"}, "license": {"type": "string", "description": "Information about resource licensing"}, "topic_category": {"type": "array", "items": {"type": "string", "description": "A high-level classification scheme to assist in the grouping and topic-based                     search of available spatial data resources", "example": "Biota", "enum": ["Biota", "Boundaries", "Climatology / Meteorology / Atmosphere", "Economy", "Elevation", "Environment", "Farming", "Geoscientific Information", "Health", "Imagery / Base Maps / Earth Cover", "Inland Waters", "Intelligence / Military", "Location", "Oceans", "Planning / Cadastre", "Society", "Structure", "Transportation", "Utilities / Communication"]}}, "reference_system": {"type": "string", "description": "Information about the reference system"}, "spatial_resolution": {"type": "integer", "description": "Spatial resolution refers to the level of detail of the data set"}, "scales": {"type": "array", "items": {"description": "Scale refers to the level of detail of the data set", "allOf": [{"$ref": "#/definitions/scale"}]}}, "conformity": {"type": "string", "description": "Degree of conformity with the implementing rules/standard of the metadata followed", "example": "conformant", "enum": ["conformant", "not conformant", "not evaluated"]}, "additional_resources": {"type": "array", "items": {"description": "Auxiliary files or additional resources to the dataset.", "allOf": [{"$ref": "#/definitions/additional_resources"}]}}, "public_access_limitations": {"type": "string", "description": "Information on the limitations and the reasons for them"}, "version": {"type": "string", "description": "Version of the resource"}, "metadata_language": {"type": "string", "description": "The language in which the metadata elements are expressed"}, "metadata_point_of_contact_name": {"type": "string", "description": "The name of the organisation responsible for the creation                      and maintenance of the metadata"}, "metadata_point_of_contact_email": {"type": "string", "description": "The email of the organisation responsible for the creation                      and maintenance of the metadata"}, "metadata_date": {"type": "string", "format": "date", "description": "The date which specifies when the metadata record was created or updated"}, "metadata_version": {"type": "string", "description": "Version of the metadata record"}, "resources": {"type": "array", "items": {"description": "\"Provides a list of resources of the dataset", "allOf": [{"$ref": "#/definitions/resources"}]}}, "lineage": {"type": "string", "description": "General explanation of the data producer\u2019s knowledge about the lineage of a dataset"}, "parent_id": {"type": "string", "description": "Provides the ID of a parent dataset."}, "suitable_for": {"type": "array", "items": {"type": "string", "description": "A description of geospatial analysis or processing that the dataset is suitable for"}}, "automated_metadata": {"type": "object", "description": "Automated metadata of the dataset (JSON)"}, "pricing_models": {"type": "array", "items": {"type": "object", "description": "Pricing models of the dataset (JSON)"}}, "statistics": {"type": "object", "description": "Statistics about the store (JSON))"}, "delivery_method": {"type": "string", "description": "Delivery method of the asset", "example": "digital_platform", "enum": ["digital_platform", "digital_provider", "physical_provider"]}, "versions": {"type": "array", "description": "All versions of the resource", "items": {"type": "string"}}}, "type": "object"}, "keyword": {"properties": {"keyword": {"type": "string", "description": "keyword value"}, "theme": {"type": "string", "description": "a related theme"}}, "type": "object"}, "scale": {"properties": {"scale": {"type": "integer", "description": "scale value"}, "theme": {"type": "string", "description": "a short description"}}, "type": "object"}, "additional_resources": {"properties": {"id": {"type": "string"}, "type": {"type": "string"}, "value": {"type": "string"}, "name": {"type": "string"}}, "type": "object"}, "resources": {"properties": {"id": {"type": "string"}, "category": {"type": "string"}, "value": {"type": "string"}, "format": {"type": "string"}}, "type": "object"}, "a page of results": {"properties": {"items": {"type": "array", "items": {"description": "Returned geojson objects", "allOf": [{"$ref": "#/definitions/the item in geojson format"}]}}, "page": {"type": "integer", "description": "Number of this page of results"}, "pages": {"type": "integer", "description": "Total number of pages of results"}, "per_page": {"type": "integer", "description": "Number of items per page of results"}, "total": {"type": "integer", "description": "Total number of results"}}, "type": "object"}}, "responses": {"ParseError": {"description": "When a mask can't be parsed"}, "MaskError": {"description": "When any error occurs on mask"}, "NoResultFound": {}}}
